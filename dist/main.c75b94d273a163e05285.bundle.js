(()=>{"use strict";var e,t={433:(e,t,a)=>{a(260),a(127);class s extends Phaser.GameObjects.Text{constructor(e){super(e,10,10,"",{color:"black",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0)}update(){this.setText(`fps: ${Math.floor(this.scene.game.loop.actualFps)}`)}}class i extends Phaser.Scene{constructor(){super({key:"MainScene"})}create(){this.fpsText=new s(this),this.add.text(this.cameras.main.width-15,15,`Phaser v${Phaser.VERSION}`,{color:"#000000",fontSize:"24px"}).setOrigin(1,0)}update(){this.fpsText.update()}}class n extends Phaser.GameObjects.Text{constructor(e){super(e,10,50,"",{color:"black",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0)}update(){}}class o extends Phaser.Physics.Arcade.Sprite{constructor(e,t,a){super(e,t,a,"cannon-ball"),e.add.existing(this),e.physics.add.existing(this),this.setDisplaySize(20,20),this.setCollideWorldBounds(!0).setBounce(.6).setInteractive().on("pointerdown",(()=>{this.setVelocityY(-400)}))}}const r="spineboy";class h extends Phaser.Scene{constructor(){super({key:"GameScene"}),this.animationNames=[],this.animationIndex=0}preload(){this.load.image("tiles","assets/img/map_1.png"),this.load.image("hudTiles","assets/img/hud.png"),this.load.tilemapTiledJSON("level","assets/img/map_1.json"),this.load.setPath("assets/spine/"),this.load.spine(r,"truffles_all.json","truffles_all.atlas")}create(){const e=this.make.tilemap({key:"level",tileWidth:32,tileHeight:32}),t=e.addTilesetImage("level1_tileset","tiles"),a=e.addTilesetImage("hud","hudTiles");e.createLayer("map/ground/water",t,0,0),e.createLayer("map/ground/ground",t,0,0),e.createLayer("map/shadow 1",t,0,0),e.createLayer("map/buildings/houses/house 1",t,0,0),e.createLayer("map/buildings/houses/house 2",t,0,0),e.createLayer("map/buildings/walls",t,0,0),e.createLayer("map/buildings/church",t,0,0),e.createLayer("map/buildings/castle",t,0,0),e.createLayer("map/buildings/miselanious",t,0,0),e.createLayer("map/move behind /wall top",t,0,0),e.createLayer("map/move behind /Shadow 2",t,0,0),e.createLayer("map/move behind /house roof/house roof 1",t,0,0),e.createLayer("map/move behind /house roof/house roof 2",t,0,0),e.createLayer("map/move behind /tower top",t,0,0),e.createLayer("map/move behind /church roof",t,0,0),e.createLayer("map/move behind /castle roof",t,0,0),e.createLayer("map/move behind /miselanious top",t,0,0),e.createLayer("hud",a,0,0),this.fpsText=new s(this),this.frameText=new n(this),new o(this,this.cameras.main.width/2,0),this.backingMusic=this.sound.add("backing-track",{loop:!0}),this.backingMusic.play(),this.add.text(this.cameras.main.width-15,15,`Game Scene Phaser v${Phaser.VERSION}`,{color:"#000000",fontSize:"24px"}).setOrigin(1,0);const i="idle";this.spineBoy=this.createSpineBoy(i),this.frameText.setText(i),this.frameText.setText("idle[ "+this.animationIndex+" ]"),this.cursors=this.input.keyboard.createCursorKeys(),this.initializeAnimationsState(this.spineBoy)}update(){this.fpsText.update(),this.frameText.update();const e=this.animationNames.length;Phaser.Input.Keyboard.JustDown(this.cursors.right)?(this.idiomCue=this.sound.add("a_boy_the_kid"),this.idiomCue.play(),this.animationIndex>=e-1?this.animationIndex=0:++this.animationIndex,this.changeAnimation(this.animationIndex)):Phaser.Input.Keyboard.JustDown(this.cursors.left)&&(this.idiomCue=this.sound.add("head_like_a_chewed_toffee"),this.idiomCue.play(),this.animationIndex<=0?this.animationIndex=e-1:--this.animationIndex,this.changeAnimation(this.animationIndex))}createSpineBoy(e="idle"){const t=this.add.spine(400,600,r,e,!0);return t.scaleX=.5,t.scaleY=.5,t}initializeAnimationsState(e){const t=e.getCurrentAnimation().name;e.getAnimationList().forEach(((e,a)=>{this.animationNames.push(e),e===t&&(this.animationIndex=a)}))}changeAnimation(e){const t=this.animationNames[e];this.spineBoy.play(t,!0),this.frameText.setText(t+"[ "+this.animationIndex+" ]")}}class d extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("cannon-ball","assets/img/cannon-ball.png"),this.load.audio("backing-track",["assets/audio/level01.mp3","assets/audio/level01.ogg"]),this.load.audio("a_boy_the_kid",["assets/audio/idioms/a_boy_the_kid.mp3","assets/audio/idioms/a_boy_the_kid.ogg"]),this.load.audio("head_like_a_chewed_toffee",["assets/audio/idioms/head_like_a_chewed_toffee.mp3","assets/audio/idioms/head_like_a_chewed_toffee.ogg"])}create(){this.scene.start("GameScene")}}const c={type:Phaser.WEBGL,backgroundColor:"#ffffff",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1280,height:720},scene:[d,h,i],plugins:{scene:[{key:"SpinePlugin",plugin:window.SpinePlugin,mapping:"spine"}]},physics:{default:"arcade",arcade:{debug:!1,gravity:{y:400}}}};window.addEventListener("load",(()=>{new Phaser.Game(c)}))}},a={};function s(e){var i=a[e];if(void 0!==i)return i.exports;var n=a[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,a,i,n)=>{if(!a){var o=1/0;for(c=0;c<e.length;c++){for(var[a,i,n]=e[c],r=!0,h=0;h<a.length;h++)(!1&n||o>=n)&&Object.keys(s.O).every((e=>s.O[e](a[h])))?a.splice(h--,1):(r=!1,n<o&&(o=n));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,i,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var i,n,[o,r,h]=a,d=0;if(o.some((t=>0!==e[t]))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(h)var c=h(s)}for(t&&t(a);d<o.length;d++)n=o[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},a=self.webpackChunkthree_muses_project=self.webpackChunkthree_muses_project||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=s.O(void 0,[216],(()=>s(433)));i=s.O(i)})();