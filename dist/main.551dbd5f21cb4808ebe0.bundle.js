(()=>{"use strict";var e,t={433:(e,t,a)=>{a(260),a(127);class s extends Phaser.GameObjects.Text{constructor(e){super(e,10,10,"",{color:"black",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0)}update(){this.setText(`fps: ${Math.floor(this.scene.game.loop.actualFps)}`)}}class i extends Phaser.Scene{constructor(){super({key:"MainScene"})}create(){this.fpsText=new s(this),this.add.text(this.cameras.main.width-15,15,`Phaser v${Phaser.VERSION}`,{color:"#000000",fontSize:"24px"}).setOrigin(1,0)}update(){this.fpsText.update()}}class n extends Phaser.GameObjects.Text{constructor(e){super(e,10,50,"",{color:"black",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0)}update(){}}class r extends Phaser.Physics.Arcade.Sprite{constructor(e,t,a){super(e,t,a,"cannon-ball"),e.add.existing(this),e.physics.add.existing(this),this.setCollideWorldBounds(!0).setBounce(.6).setInteractive().on("pointerdown",(()=>{this.setVelocityY(-400)}))}}const o="spineboy";class h extends Phaser.Scene{constructor(){super({key:"GameScene"}),this.animationNames=[],this.animationIndex=0}preload(){this.load.image("tiles","assets/img/map_1.png"),this.load.image("hudTiles","assets/img/hud.png"),this.load.tilemapTiledJSON("level","assets/img/map_1.json"),this.load.setPath("assets/spine/"),this.load.spine(o,"truffles_all.json","truffles_all.atlas")}create(){const e=this.make.tilemap({key:"level",tileWidth:32,tileHeight:32}),t=e.addTilesetImage("level1_tileset","tiles"),a=e.addTilesetImage("hud","hudTiles");e.createLayer("map/ground/water",t,0,0),e.createLayer("map/ground/ground",t,0,0),e.createLayer("map/shadow 1",t,0,0),e.createLayer("map/buildings/houses/house 1",t,0,0),e.createLayer("map/buildings/houses/house 2",t,0,0),e.createLayer("map/buildings/walls",t,0,0),e.createLayer("map/buildings/church",t,0,0),e.createLayer("map/buildings/castle",t,0,0),e.createLayer("map/buildings/miselanious",t,0,0),e.createLayer("map/move behind /wall top",t,0,0),e.createLayer("map/move behind /Shadow 2",t,0,0),e.createLayer("map/move behind /house roof/house roof 1",t,0,0),e.createLayer("map/move behind /house roof/house roof 2",t,0,0),e.createLayer("map/move behind /tower top",t,0,0),e.createLayer("map/move behind /church roof",t,0,0),e.createLayer("map/move behind /castle roof",t,0,0),e.createLayer("map/move behind /miselanious top",t,0,0),e.createLayer("hud",a,0,0),this.fpsText=new s(this),this.frameText=new n(this),new r(this,this.cameras.main.width/2,0),this.music=this.sound.add("backing-track",{loop:!0}),this.music.play(),this.add.text(this.cameras.main.width-15,15,`Game Scene Phaser v${Phaser.VERSION}`,{color:"#000000",fontSize:"24px"}).setOrigin(1,0);const i="idle";this.spineBoy=this.createSpineBoy(i),this.frameText.setText(i),this.frameText.setText("idle[ "+this.animationIndex+" ]"),this.cursors=this.input.keyboard.createCursorKeys(),this.initializeAnimationsState(this.spineBoy)}update(){this.fpsText.update(),this.frameText.update();const e=this.animationNames.length;Phaser.Input.Keyboard.JustDown(this.cursors.right)?(this.animationIndex>=e-1?this.animationIndex=0:++this.animationIndex,this.changeAnimation(this.animationIndex)):Phaser.Input.Keyboard.JustDown(this.cursors.left)&&(this.animationIndex<=0?this.animationIndex=e-1:--this.animationIndex,this.changeAnimation(this.animationIndex))}createSpineBoy(e="idle"){const t=this.add.spine(400,600,o,e,!0);return t.scaleX=.5,t.scaleY=.5,t}initializeAnimationsState(e){const t=e.getCurrentAnimation().name;e.getAnimationList().forEach(((e,a)=>{this.animationNames.push(e),e===t&&(this.animationIndex=a)}))}changeAnimation(e){const t=this.animationNames[e];this.spineBoy.play(t,!0),this.frameText.setText(t+"[ "+this.animationIndex+" ]")}}class c extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image("cannon-ball","assets/img/cannon-ball.png"),this.load.audio("backing-track",["assets/audio/level01.mp3","level01.ogg"])}create(){this.scene.start("GameScene")}}const d={type:Phaser.WEBGL,backgroundColor:"#ffffff",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1280,height:720},scene:[c,h,i],plugins:{scene:[{key:"SpinePlugin",plugin:window.SpinePlugin,mapping:"spine"}]},physics:{default:"arcade",arcade:{debug:!1,gravity:{y:400}}}};window.addEventListener("load",(()=>{new Phaser.Game(d)}))}},a={};function s(e){var i=a[e];if(void 0!==i)return i.exports;var n=a[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,a,i,n)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,i,n]=e[d],o=!0,h=0;h<a.length;h++)(!1&n||r>=n)&&Object.keys(s.O).every((e=>s.O[e](a[h])))?a.splice(h--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,i,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var i,n,[r,o,h]=a,c=0;if(r.some((t=>0!==e[t]))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(h)var d=h(s)}for(t&&t(a);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self.webpackChunkthree_muses_project=self.webpackChunkthree_muses_project||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=s.O(void 0,[216],(()=>s(433)));i=s.O(i)})();